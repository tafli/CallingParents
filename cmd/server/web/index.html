<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a73e8">
    <meta name="description" content="Eltern Ã¼ber ProPresenter aufrufen">
    <title>Eltern rufen</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="header-left">
            <span id="status-dot" class="status-dot" data-i18n-title="header.statusDot"></span>
            <h1 id="header-title" data-i18n="app.title">Eltern rufen</h1>
        </div>
        <button id="btn-settings" class="icon-btn" data-i18n-aria="header.settings" aria-label="Einstellungen">âš™</button>
    </header>

    <!-- Main View -->
    <main id="view-main" class="view-main">
        <div id="connection-banner" class="connection-banner hidden" data-i18n="connection.banner">
            âš  ProPresenter nicht erreichbar
        </div>
        <div id="status-bar" class="status-bar hidden"></div>

        <section id="children-grid" class="children-grid">
            <!-- Buttons generated by JS -->
        </section>

        <section class="input-section">
            <div class="input-wrapper">
                <input type="text" id="input-name" data-i18n-placeholder="input.placeholder" placeholder="Name eingebenâ€¦" autocomplete="off">
                <button id="btn-clear-input" class="input-clear-btn hidden" type="button" data-i18n-aria="input.clearLabel" aria-label="Eingabe lÃ¶schen">Ã—</button>
            </div>
            <div class="action-buttons">
                <button id="btn-send" class="btn btn-primary" disabled data-i18n="btn.send">Senden</button>
            </div>
        </section>
    </main>

    <!-- Settings View -->
    <div id="view-settings" class="hidden">
        <section class="settings-section">
            <h2 data-i18n="settings.connection">Verbindung</h2>
            <button id="btn-test-connection" class="btn btn-secondary" data-i18n="settings.testConnection">Verbindung testen</button>
            <div id="connection-status" class="connection-status"></div>
        </section>

        <section class="settings-section">
            <h2 data-i18n="settings.manageChildren">Kinder verwalten</h2>
            <div class="add-child-row">
                <input type="text" id="input-add-child" data-i18n-placeholder="settings.addPlaceholder" placeholder="Name hinzufÃ¼genâ€¦">
                <button id="btn-add-child" class="btn btn-secondary">+</button>
            </div>
            <ul id="children-list" class="children-list">
                <!-- Generated by JS -->
            </ul>
            <button id="btn-reload-children" class="btn btn-secondary btn-full" data-i18n="settings.reloadFromServer">Liste vom Server laden</button>
        </section>

        <section class="settings-section">
            <h2 data-i18n="settings.language">Sprache</h2>
            <div id="language-picker" class="language-picker">
                <!-- Generated by JS -->
            </div>
        </section>

        <button id="btn-back" class="btn btn-primary btn-full" data-i18n="settings.back">ZurÃ¼ck</button>

        <footer class="version-footer">
            <span id="version-info"></span>
        </footer>
    </div>

    <!-- Auth Error Overlay -->
    <div id="auth-error" class="auth-error hidden">
        <div class="auth-error-content">
            <span class="auth-error-icon">ğŸ”’</span>
            <h2 data-i18n="auth.title">Nicht autorisiert</h2>
            <p data-i18n="auth.message">Bitte scanne den QR-Code erneut, um Zugang zu erhalten.</p>
        </div>
    </div>

    <div id="toast" class="toast hidden"></div>

    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
